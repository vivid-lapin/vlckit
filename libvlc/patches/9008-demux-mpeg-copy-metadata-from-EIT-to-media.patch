From 7c2f0e5730a8ae261ee5787a5f36845f7b1ce99d Mon Sep 17 00:00:00 2001
From: ci7lus <7887955+ci7lus@users.noreply.github.com>
Date: Sat, 14 Feb 2026 21:19:06 +0900
Subject: [PATCH 2/3] demux/mpeg: copy metadata from EIT to media

---
 modules/demux/mpeg/ts_si.c | 4 ++++
 src/input/es_out.c         | 7 +++++++
 2 files changed, 11 insertions(+)

diff --git a/modules/demux/mpeg/ts_si.c b/modules/demux/mpeg/ts_si.c
index 1c9d365089..6ac84d6d04 100644
--- a/modules/demux/mpeg/ts_si.c
+++ b/modules/demux/mpeg/ts_si.c
@@ -278,6 +278,10 @@ static void SDTCallBack( void *opaque, dvbpsi_sdt_t *p_sdt )
                     if( pD->i_service_type >= 0x01 && pD->i_service_type <= 0x10 )
                         psz_type = ppsz_type[pD->i_service_type];
                 }
+                if (p_sys->standard == TS_STANDARD_ARIB)
+                {
+                    vlc_meta_SetArtist(p_meta, str2);
+                }
                 free( str1 );
                 free( str2 );
             }
diff --git a/src/input/es_out.c b/src/input/es_out.c
index d341adac71..0699bb44f6 100644
--- a/src/input/es_out.c
+++ b/src/input/es_out.c
@@ -2105,6 +2105,13 @@ static void EsOutMeta(es_out_sys_t *p_sys, const vlc_meta_t *p_meta, const vlc_m
     vlc_mutex_lock( &p_item->lock );
     if( p_meta )
         vlc_meta_Merge( p_item->p_meta, p_meta );
+
+    if( p_program_meta )
+    {
+        const char *psz_nowplaying = vlc_meta_Get( p_program_meta, vlc_meta_ESNowPlaying );
+        if( psz_nowplaying )
+            vlc_meta_SetNowPlaying( p_item->p_meta, psz_nowplaying );
+    }
     vlc_mutex_unlock( &p_item->lock );
 
     /* Check program meta to not override GROUP_META values */
-- 
2.39.1

